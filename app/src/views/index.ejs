<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#E57021" />
  <meta name="description" content="Divino Alimento - Plataforma de gest√£o de ciclos de cestas org√¢nicas" />

  <link rel="shortcut icon" href="images/favicon.png" type="image/png" />
  <title>Divino Alimento - P√°gina Inicial</title>

  <!-- CSS Modular -->
  <link rel="stylesheet" href="/css/common.css" />
  <link rel="stylesheet" href="/css/pages/index.css" />
  <link rel="stylesheet" href="/styles/partials/header.css" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
</head>

<body>
  <!-- Header -->
  <%- include('parts/header_index', {
    button_text: 'vazio',
    button_link: ''
  }) %>

  <!-- Main Content -->
  <main class="container" role="main">

    <% if (ciclos && ciclos.length > 0) { %>
      <!-- Ciclos Ativos -->
      <% ciclos.forEach(ciclo => { %>
        <section class="cycle-section" aria-labelledby="cycle-title-<%= ciclo.id %>">

          <!-- Informa√ß√µes do Ciclo -->
          <div class="section-header">
            <h1 id="cycle-title-<%= ciclo.id %>">
              Ciclo <%= ciclo.nome %>
            </h1>
            <p>Confira as etapas e prazos deste ciclo de entrega</p>
          </div>

          <!-- Detalhes do Ciclo -->
          <div class="cycle-info" role="region" aria-label="Informa√ß√µes do ciclo">
            <h2>Per√≠odo do Ciclo</h2>
            <div class="cycle-dates">
              <% if (ciclo.ofertaInicio) { %>
                <div class="cycle-date">
                  <span class="cycle-date-label">In√≠cio</span>
                  <time class="cycle-date-value" datetime="<%= ciclo.ofertaInicio.toISOString() %>">
                    <%= ciclo.ofertaInicio.toISOString().substr(8,2) %>/<%= ciclo.ofertaInicio.toISOString().substr(5,2) %>/<%= ciclo.ofertaInicio.toISOString().substr(0,4) %>
                    √†s <%= ciclo.ofertaInicio.toISOString().substr(11,5) %>
                  </time>
                </div>
              <% } %>

              <% if (ciclo.retiradaConsumidorFim) { %>
                <div class="cycle-date">
                  <span class="cycle-date-label">T√©rmino</span>
                  <time class="cycle-date-value" datetime="<%= ciclo.retiradaConsumidorFim.toISOString() %>">
                    <%= ciclo.retiradaConsumidorFim.toISOString().substr(8,2) %>/<%= ciclo.retiradaConsumidorFim.toISOString().substr(5,2) %>/<%= ciclo.retiradaConsumidorFim.toISOString().substr(0,4) %>
                    √†s <%= ciclo.retiradaConsumidorFim.toISOString().substr(11,5) %>
                  </time>
                </div>
              <% } %>
            </div>
          </div>

          <%
            // L√≥gica de Oferta Ativa
            const ofertaInicio = Date.parse(ciclo.ofertaInicio);
            const ofertaFim = Date.parse(ciclo.ofertaFim);
            const dataAtual = Date.now() - 10800000;
            let ofertaAtiva = false;

            if (usuarioAtivo.perfil && usuarioAtivo.perfil.indexOf('fornecedor') >= 0) {
              if ((dataAtual >= ofertaInicio) && (ofertaFim >= dataAtual)) {
                ofertaAtiva = true;
              }
            }
          %>

          <!-- Grid de A√ß√µes do Ciclo -->
          <div class="cards-grid" role="list" aria-label="A√ß√µes dispon√≠veis no ciclo">

            <!-- 1. OFERTA DE PRODUTOS (Fornecedor) -->
            <article class="action-card <%= (usuarioAtivo.email_verified != 'false' && ofertaAtiva) ? 'active' : 'inactive' %>"
                     role="listitem"
                     aria-label="Oferta de Produtos <%= (usuarioAtivo.email_verified != 'false' && ofertaAtiva) ? 'dispon√≠vel' : 'indispon√≠vel' %>">

              <span class="status-badge <%= (usuarioAtivo.email_verified != 'false' && ofertaAtiva) ? 'active' : 'inactive' %>"
                    aria-label="Status">
                <%= (usuarioAtivo.email_verified != 'false' && ofertaAtiva) ? 'DISPON√çVEL' : 'INDISPON√çVEL' %>
              </span>

              <div class="card-icon" aria-hidden="true">
                <img src="/images/oferta.svg" alt="" />
              </div>

              <div class="card-content">
                <h3 class="card-title">Oferta de Produtos</h3>

                <div class="card-dates">
                  <% if (ciclo.ofertaInicio) { %>
                    <div class="card-date">
                      <span class="card-date-label">In√≠cio:</span>
                      <time class="card-date-value" datetime="<%= ciclo.ofertaInicio.toISOString() %>">
                        <%= ciclo.ofertaInicio.toISOString().substr(8,2) %>/<%= ciclo.ofertaInicio.toISOString().substr(5,2) %>/<%= ciclo.ofertaInicio.toISOString().substr(0,4) %>
                        <%= ciclo.ofertaInicio.toISOString().substr(11,5) %>
                      </time>
                    </div>
                  <% } %>

                  <% if (ciclo.ofertaFim) { %>
                    <div class="card-date">
                      <span class="card-date-label">T√©rmino:</span>
                      <time class="card-date-value" datetime="<%= ciclo.ofertaFim.toISOString() %>">
                        <%= ciclo.ofertaFim.toISOString().substr(8,2) %>/<%= ciclo.ofertaFim.toISOString().substr(5,2) %>/<%= ciclo.ofertaFim.toISOString().substr(0,4) %>
                        <%= ciclo.ofertaFim.toISOString().substr(11,5) %>
                      </time>
                    </div>
                  <% } %>
                </div>
              </div>

              <% if (usuarioAtivo.email_verified != 'false' && ofertaAtiva) { %>
                <a href="/oferta/<%= ciclo.id %>"
                   class="card-link"
                   aria-label="Acessar p√°gina de Oferta de Produtos">
                  <span class="sr-only">Acessar</span>
                </a>
              <% } %>
            </article>

            <%
              // L√≥gica de Composi√ß√£o Ativa (Admin)
              const composicaoInicio = Date.parse(ciclo.ofertaInicio);
              const composicaoFim = Date.parse(ciclo.itensAdicionaisInicio);
              let composicaoAtiva = false;

              if (usuarioAtivo.perfil && usuarioAtivo.perfil.indexOf('admin') >= 0) {
                if ((dataAtual > composicaoInicio) && (composicaoFim > dataAtual)) {
                  composicaoAtiva = true;
                }
              }
            %>

            <!-- 2. COMPOSI√á√ÉO DAS CESTAS (Admin) -->
            <article class="action-card <%= (usuarioAtivo.email_verified != 'false' && composicaoAtiva) ? 'active' : 'inactive' %>"
                     role="listitem"
                     aria-label="Composi√ß√£o das Cestas <%= (usuarioAtivo.email_verified != 'false' && composicaoAtiva) ? 'dispon√≠vel' : 'indispon√≠vel' %>">

              <span class="status-badge <%= (usuarioAtivo.email_verified != 'false' && composicaoAtiva) ? 'active' : 'inactive' %>"
                    aria-label="Status">
                <%= (usuarioAtivo.email_verified != 'false' && composicaoAtiva) ? 'DISPON√çVEL' : 'INDISPON√çVEL' %>
              </span>

              <div class="card-icon" aria-hidden="true">
                <img src="/images/composicao.svg" alt="" />
              </div>

              <div class="card-content">
                <h3 class="card-title">Composi√ß√£o das Cestas</h3>

                <div class="card-dates">
                  <% if (ciclo.ofertaInicio) { %>
                    <div class="card-date">
                      <span class="card-date-label">In√≠cio:</span>
                      <time class="card-date-value" datetime="<%= ciclo.ofertaInicio.toISOString() %>">
                        <%= ciclo.ofertaInicio.toISOString().substr(8,2) %>/<%= ciclo.ofertaInicio.toISOString().substr(5,2) %>/<%= ciclo.ofertaInicio.toISOString().substr(0,4) %>
                        <%= ciclo.ofertaInicio.toISOString().substr(11,5) %>
                      </time>
                    </div>
                  <% } %>

                  <% if (ciclo.itensAdicionaisInicio) { %>
                    <div class="card-date">
                      <span class="card-date-label">T√©rmino:</span>
                      <time class="card-date-value" datetime="<%= ciclo.itensAdicionaisInicio.toISOString() %>">
                        <%= ciclo.itensAdicionaisInicio.toISOString().substr(8,2) %>/<%= ciclo.itensAdicionaisInicio.toISOString().substr(5,2) %>/<%= ciclo.itensAdicionaisInicio.toISOString().substr(0,4) %>
                        <%= ciclo.itensAdicionaisInicio.toISOString().substr(11,5) %>
                      </time>
                    </div>
                  <% } %>
                </div>
              </div>

              <% if (usuarioAtivo.email_verified != 'false' && composicaoAtiva) { %>
                <a href="/composicao/<%= ciclo.id %>"
                   class="card-link"
                   aria-label="Acessar p√°gina de Composi√ß√£o das Cestas">
                  <span class="sr-only">Acessar</span>
                </a>
              <% } %>
            </article>

            <%
              // L√≥gica de Pedidos Extras (Consumidor)
              let itensAdicionaisAtivo = 0;

              if (usuarioAtivo.perfil && usuarioAtivo.perfil.indexOf('consumidor') >= 0) {
                if (ciclo.status == 'composicao') {
                  itensAdicionaisAtivo = 1;
                }
                if (ciclo.pedidoConsumidorFinalizado) {
                  itensAdicionaisAtivo = 2;
                }
                if (ciclo.status == 'finalizado') {
                  itensAdicionaisAtivo = 3;
                }
                if (ciclo.status == 'atribuicao') {
                  itensAdicionaisAtivo = 4;
                }
              }

              const pedidosAtivos = (itensAdicionaisAtivo > 0 && itensAdicionaisAtivo < 3);
            %>

            <!-- 3. PEDIDOS EXTRAS (Consumidor) -->
            <article class="action-card <%= (usuarioAtivo.email_verified != 'false' && pedidosAtivos) ? 'active' : 'inactive' %>"
                     role="listitem"
                     aria-label="Pedidos Extras <%= (usuarioAtivo.email_verified != 'false' && pedidosAtivos) ? 'dispon√≠vel' : 'indispon√≠vel' %>">

              <span class="status-badge <%= (usuarioAtivo.email_verified != 'false' && pedidosAtivos) ? 'active' : 'inactive' %>"
                    aria-label="Status">
                <%= (usuarioAtivo.email_verified != 'false' && pedidosAtivos) ? 'DISPON√çVEL' : 'INDISPON√çVEL' %>
              </span>

              <div class="card-icon" aria-hidden="true">
                <img src="/images/pedidoConsumidores.svg" alt="" />
              </div>

              <div class="card-content">
                <h3 class="card-title">Fa√ßa seus pedidos extras</h3>

                <div class="card-dates">
                  <% if (ciclo.itensAdicionaisInicio) { %>
                    <div class="card-date">
                      <span class="card-date-label">In√≠cio:</span>
                      <time class="card-date-value" datetime="<%= ciclo.itensAdicionaisInicio.toISOString() %>">
                        <%= ciclo.itensAdicionaisInicio.toISOString().substr(8,2) %>/<%= ciclo.itensAdicionaisInicio.toISOString().substr(5,2) %>/<%= ciclo.itensAdicionaisInicio.toISOString().substr(0,4) %>
                        <%= ciclo.itensAdicionaisInicio.toISOString().substr(11,5) %>
                      </time>
                    </div>
                  <% } %>

                  <% if (ciclo.itensAdicionaisFim) { %>
                    <div class="card-date">
                      <span class="card-date-label">T√©rmino:</span>
                      <time class="card-date-value" datetime="<%= ciclo.itensAdicionaisFim.toISOString() %>">
                        <%= ciclo.itensAdicionaisFim.toISOString().substr(8,2) %>/<%= ciclo.itensAdicionaisFim.toISOString().substr(5,2) %>/<%= ciclo.itensAdicionaisFim.toISOString().substr(0,4) %>
                        <%= ciclo.itensAdicionaisFim.toISOString().substr(11,5) %>
                      </time>
                    </div>
                  <% } %>
                </div>
              </div>

              <% if (usuarioAtivo.email_verified != 'false' && pedidosAtivos) { %>
                <% if (itensAdicionaisAtivo == 2) { %>
                  <a href="/pedidoConsumidoresconfirmacao/<%= ciclo.id %>?usr=<%= usuarioAtivo.id %>"
                     class="card-link"
                     aria-label="Acessar confirma√ß√£o de Pedidos Extras">
                    <span class="sr-only">Acessar</span>
                  </a>
                <% } else { %>
                  <a href="/pedidoConsumidores/<%= ciclo.id %>?usr=<%= usuarioAtivo.id %>"
                     class="card-link"
                     aria-label="Acessar p√°gina de Pedidos Extras">
                    <span class="sr-only">Acessar</span>
                  </a>
                <% } %>
              <% } %>
            </article>

            <%
              // L√≥gica de Entrega Fornecedor
              let entregaFornecedorAtivo = false;

              if (usuarioAtivo.perfil && usuarioAtivo.perfil.indexOf('fornecedor') >= 0) {
                if (ciclo.status == 'atribuicao') {
                  entregaFornecedorAtivo = true;
                }
              }
            %>

            <!-- 4. ENTREGA PRODUTOS (Fornecedor) -->
            <article class="action-card <%= (usuarioAtivo.email_verified != 'false' && entregaFornecedorAtivo) ? 'active' : 'inactive' %>"
                     role="listitem"
                     aria-label="Lista para Entrega <%= (usuarioAtivo.email_verified != 'false' && entregaFornecedorAtivo) ? 'dispon√≠vel' : 'indispon√≠vel' %>">

              <span class="status-badge <%= (usuarioAtivo.email_verified != 'false' && entregaFornecedorAtivo) ? 'active' : 'inactive' %>"
                    aria-label="Status">
                <%= (usuarioAtivo.email_verified != 'false' && entregaFornecedorAtivo) ? 'DISPON√çVEL' : 'INDISPON√çVEL' %>
              </span>

              <div class="card-icon" aria-hidden="true">
                <img src="/images/entrega.svg" alt="" />
              </div>

              <div class="card-content">
                <h3 class="card-title">Fornecedor, veja sua lista para entrega</h3>

                <div class="card-dates">
                  <% if (ciclo.entregaFornecedor && ciclo.entregaFornecedor.length > 0) { %>
                    <div class="card-date">
                      <span class="card-date-label">Datas:</span>
                      <div class="card-dates-list">
                        <% ciclo.entregaFornecedor.forEach(entrega => { %>
                          <p>
                            de
                            <% if (entrega.inicio) { %>
                              <%= entrega.inicio.toISOString().substr(8,2) %>/<%= entrega.inicio.toISOString().substr(5,2) %>/<%= entrega.inicio.toISOString().substr(0,4) %>
                              <%= entrega.inicio.toISOString().substr(11,5) %>
                            <% } %>
                            a
                            <% if (entrega.fim) { %>
                              <%= entrega.fim.toISOString().substr(8,2) %>/<%= entrega.fim.toISOString().substr(5,2) %>/<%= entrega.fim.toISOString().substr(0,4) %>
                              <%= entrega.fim.toISOString().substr(11,5) %>
                            <% } %>
                          </p>
                        <% }); %>
                      </div>
                    </div>
                  <% } %>
                </div>
              </div>

              <% if (usuarioAtivo.email_verified != 'false' && entregaFornecedorAtivo) { %>
                <a href="/pedidosfornecedores/<%= ciclo.id %>"
                   class="card-link"
                   aria-label="Acessar lista de entrega de produtos">
                  <span class="sr-only">Acessar</span>
                </a>
              <% } %>
            </article>

            <%
              // L√≥gica de Retirada Consumidor
              let retiradaConsumidorAtivo = false;

              if (usuarioAtivo.perfil && usuarioAtivo.perfil.indexOf('consumidor') >= 0) {
                if (itensAdicionaisAtivo > 0) {
                  retiradaConsumidorAtivo = true;
                }
              }
            %>

            <!-- 5. RELAT√ìRIO DE ENTREGA (Consumidor) -->
            <article class="action-card <%= (usuarioAtivo.email_verified != 'false' && retiradaConsumidorAtivo) ? 'active' : 'inactive' %>"
                     role="listitem"
                     aria-label="Relat√≥rio de Entrega <%= (usuarioAtivo.email_verified != 'false' && retiradaConsumidorAtivo) ? 'dispon√≠vel' : 'indispon√≠vel' %>">

              <span class="status-badge <%= (usuarioAtivo.email_verified != 'false' && retiradaConsumidorAtivo) ? 'active' : 'inactive' %>"
                    aria-label="Status">
                <%= (usuarioAtivo.email_verified != 'false' && retiradaConsumidorAtivo) ? 'DISPON√çVEL' : 'INDISPON√çVEL' %>
              </span>

              <div class="card-icon" aria-hidden="true">
                <img src="/images/cesta.svg" alt="" />
              </div>

              <div class="card-content">
                <h3 class="card-title">Consumidor, veja seu relat√≥rio de entrega</h3>

                <div class="card-dates">
                  <% if (ciclo.retiradaConsumidorInicio) { %>
                    <div class="card-date">
                      <span class="card-date-label">In√≠cio:</span>
                      <time class="card-date-value" datetime="<%= ciclo.retiradaConsumidorInicio.toISOString() %>">
                        <%= ciclo.retiradaConsumidorInicio.toISOString().substr(8,2) %>/<%= ciclo.retiradaConsumidorInicio.toISOString().substr(5,2) %>/<%= ciclo.retiradaConsumidorInicio.toISOString().substr(0,4) %>
                        <%= ciclo.retiradaConsumidorInicio.toISOString().substr(11,5) %>
                      </time>
                    </div>
                  <% } %>

                  <% if (ciclo.retiradaConsumidorFim) { %>
                    <div class="card-date">
                      <span class="card-date-label">T√©rmino:</span>
                      <time class="card-date-value" datetime="<%= ciclo.retiradaConsumidorFim.toISOString() %>">
                        <%= ciclo.retiradaConsumidorFim.toISOString().substr(8,2) %>/<%= ciclo.retiradaConsumidorFim.toISOString().substr(5,2) %>/<%= ciclo.retiradaConsumidorFim.toISOString().substr(0,4) %>
                        <%= ciclo.retiradaConsumidorFim.toISOString().substr(11,5) %>
                      </time>
                    </div>
                  <% } %>
                </div>
              </div>

              <% if (usuarioAtivo.email_verified != 'false' && retiradaConsumidorAtivo) { %>
                <a href="/pedidosconsumidorestodos/<%= ciclo.id %>?usr=<%= usuarioAtivo.id %>"
                   class="card-link"
                   aria-label="Acessar relat√≥rio de entrega">
                  <span class="sr-only">Acessar</span>
                </a>
              <% } %>
            </article>

          </div><!-- /cards-grid -->
        </section>
      <% }); %>
    <% } else { %>
      <!-- Estado Vazio -->
      <div class="empty-state">
        <div class="empty-state-icon" aria-hidden="true">üì¶</div>
        <h3>Nenhum ciclo ativo no momento</h3>
        <p>Novos ciclos ser√£o exibidos aqui quando dispon√≠veis</p>
      </div>
    <% } %>

    <!-- √Årea Pessoal -->
    <% if (usuarioAtivo.perfil) { %>
      <section class="personal-section" aria-labelledby="personal-title">
        <div class="personal-header">
          <h2 id="personal-title">Funcionalidades Individuais</h2>
        </div>

        <div class="cards-grid">
          <article class="action-card personal active" role="listitem">
            <span class="status-badge active" aria-label="Status">DISPON√çVEL</span>

            <div class="card-icon" aria-hidden="true">
              <img src="/images/usuario.svg" alt="" />
            </div>

            <div class="card-content">
              <h3 class="card-title">Dados Pessoais</h3>
              <p>Atualize seus dados pessoais</p>
            </div>

            <a href="/usuario/<%= usuarioAtivo.id %>"
               class="card-link"
               aria-label="Acessar p√°gina de Dados Pessoais">
              <span class="sr-only">Acessar</span>
            </a>
          </article>
        </div>
      </section>
    <% } %>

    <!-- √Årea Administrativa -->
    <% if (usuarioAtivo.perfil && usuarioAtivo.perfil.indexOf('admin') >= 0) { %>
      <section class="admin-section" aria-labelledby="admin-title">
        <div class="admin-header">
          <h2 id="admin-title">Funcionalidades Gerais</h2>
        </div>

        <div class="cards-grid">
          <!-- Ciclos -->
          <article class="action-card admin active" role="listitem">
            <span class="status-badge active" aria-label="Status">DISPON√çVEL</span>

            <div class="card-icon" aria-hidden="true">
              <img src="/images/ciclo.svg" alt="" />
            </div>

            <div class="card-content">
              <h3 class="card-title">Ciclos</h3>
              <p>Acesse a tela de controle de todos os ciclos e suas itera√ß√µes</p>
            </div>

            <a href="/ciclo-index/"
               class="card-link"
               aria-label="Acessar administra√ß√£o de Ciclos">
              <span class="sr-only">Acessar</span>
            </a>
          </article>

          <!-- Relat√≥rio Fornecedores -->
          <article class="action-card admin active" role="listitem">
            <span class="status-badge active" aria-label="Status">DISPON√çVEL</span>

            <div class="card-icon" aria-hidden="true">
              <img src="/images/entrega.svg" alt="" />
            </div>

            <div class="card-content">
              <h3 class="card-title">Relat√≥rio Fornecedores</h3>
              <p>Escolha os ciclos e gere o relat√≥rio com todas as movimenta√ß√µes dos fornecedores</p>
            </div>

            <a href="/pedidosfornecedoresciclos/"
               class="card-link"
               aria-label="Acessar Relat√≥rio de Fornecedores">
              <span class="sr-only">Acessar</span>
            </a>
          </article>

          <!-- Relat√≥rio Consumidores -->
          <article class="action-card admin active" role="listitem">
            <span class="status-badge active" aria-label="Status">DISPON√çVEL</span>

            <div class="card-icon" aria-hidden="true">
              <img src="/images/pontoentrega.svg" alt="" />
            </div>

            <div class="card-content">
              <h3 class="card-title">Relat√≥rio Consumidores</h3>
              <p>Escolha os ciclos e gere o relat√≥rio com todas as movimenta√ß√µes dos consumidores</p>
            </div>

            <a href="/pedidosconsumidoresciclos/"
               class="card-link"
               aria-label="Acessar Relat√≥rio de Consumidores">
              <span class="sr-only">Acessar</span>
            </a>
          </article>

          <!-- Cadastros -->
          <article class="action-card admin active" role="listitem">
            <span class="status-badge active" aria-label="Status">DISPON√çVEL</span>

            <div class="card-icon" aria-hidden="true">
              <img src="/images/cadastro.png" alt="" />
            </div>

            <div class="card-content">
              <h3 class="card-title">Cadastros</h3>
              <p>Acesse as telas de cadastros</p>
            </div>

            <a href="/cadastros/"
               class="card-link"
               aria-label="Acessar telas de Cadastros">
              <span class="sr-only">Acessar</span>
            </a>
          </article>
        </div>
      </section>
    <% } %>

  </main>

  <!-- Screen Reader Only Styles -->
  <style>
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }
  </style>

  <!-- Services -->
  <script src="/js/services/api.service.js"></script>
  <script src="/js/services/index.service.js"></script>
  <script src="/js/utils/feedback.js"></script>

  <script>
    // Configura√ß√£o global
    const usuarioId = <%= usuarioAtivo.id || 'null' %>;
    const usuarioPerfil = '<%= usuarioAtivo.perfil || '' %>';

    // Inicializar data-attributes nos cards
    document.addEventListener('DOMContentLoaded', () => {
      IndexService.inicializarDataAttributes();

      // Atualizar status em tempo real via AJAX
      if (usuarioId && usuarioPerfil) {
        IndexService.atualizarCardsEtapas(usuarioId, usuarioPerfil)
          .then(() => console.log('Cards atualizados com sucesso'))
          .catch(error => console.error('Erro ao atualizar cards:', error));
      }
    });
  </script>
</body>
</html>
